# GPT-5.2 Titanic 比較サマリー（EDA Prompt v1–v4）

本ファイルは、同一テスト入力（`tests/titanic_summary.txt`）に対して、
ChatGPT 5.2（新規チャット・文脈なし）で実行した
v1〜v4 の挙動比較をまとめたものです。

---

## 概要評価

評価基準：
◎ 非常に良い / ○ 良い / △ 一部不十分 / × 不十分

| Version | 構造遵守 | ロジック安定性 | ガバナンス耐性 | 再現性 | 備考 |
|----------|------------|----------------|----------------|--------|------|
| v1 | △ | × | 低 | 低 | 事実と推測が混在、外れ値基準なし |
| v2 | ○ | △ | 中 | 中 | IQR導入。ただし非連続変数にも適用 |
| v3 | ○ | ○ | 高 | 高 | 型分岐導入。IQR誤適用回避 |
| v4 | ◎ | ◎ | 非常に高 | 非常に高 | ルール明示＋削除禁止方針＋成功判定導入 |

---

## バージョン別改善点

### v1 → v2
- 欠損率算出を明示
- IQR外れ値基準を導入
- 事実と推測の分離を強化
- ただし IQR を Binary/Ordinal に適用する設計バグあり

### v2 → v3
- 型別分岐を導入
  - Continuous：IQR
  - 非連続：value_counts 要求
- IQR=0 問題への耐性向上
- 不足情報の明示

### v3 → v4
- 型判定をルールベース化
- 「外れ値削除禁止」のデフォルト方針追加
- 成功判定（AUC差など）の定量化
- 再現性・監査耐性の向上

---

## 本リポジトリの意義

本比較は、

- Prompt の進化過程を可視化する
- 設計の改善点を履歴として残す
- 回帰検知を可能にする

ことを目的とする。
